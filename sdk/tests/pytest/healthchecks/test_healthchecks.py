import agenta as ag


class TestHealthCheck:
    def test_unauthenticated(self):
        # ACT ------------------------------------------------------------------
        response = ag.api.health_check()
        # ----------------------------------------------------------------------

        # ASSERT ---------------------------------------------------------------
        assert response["status"] == "ok"
        # ----------------------------------------------------------------------

    def test_authenticated(self):
        # ACT ------------------------------------------------------------------
        response = ag.api.fetch_user_profile()
        # ----------------------------------------------------------------------

        # ASSERT ---------------------------------------------------------------
        assert response["email"].endswith("@test.agenta.ai")
        # ----------------------------------------------------------------------
