# This file was auto-generated by Fern from our API Definition.

from __future__ import annotations

import datetime as dt
import typing

import httpx
from .core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from .core.request_options import RequestOptions
from .environment import AgentaApiEnvironment
from .raw_client import AsyncRawAgentaApi, RawAgentaApi
from .types.organization import Organization
from .types.permission import Permission
from .types.workspace_response import WorkspaceResponse

if typing.TYPE_CHECKING:
    from .access_control.client import AccessControlClient, AsyncAccessControlClient
    from .admin.client import AdminClient, AsyncAdminClient
    from .annotations.client import AnnotationsClient, AsyncAnnotationsClient
    from .api_keys.client import ApiKeysClient, AsyncApiKeysClient
    from .applications.client import ApplicationsClient, AsyncApplicationsClient
    from .apps.client import AppsClient, AsyncAppsClient
    from .auth.client import AsyncAuthClient, AuthClient
    from .billing.client import AsyncBillingClient, BillingClient
    from .configs.client import AsyncConfigsClient, ConfigsClient
    from .containers.client import AsyncContainersClient, ContainersClient
    from .environments.client import AsyncEnvironmentsClient, EnvironmentsClient
    from .evaluations.client import AsyncEvaluationsClient, EvaluationsClient
    from .evaluators.client import AsyncEvaluatorsClient, EvaluatorsClient
    from .folders.client import AsyncFoldersClient, FoldersClient
    from .human_evaluations.client import AsyncHumanEvaluationsClient, HumanEvaluationsClient
    from .invocations.client import AsyncInvocationsClient, InvocationsClient
    from .observability.client import AsyncObservabilityClient, ObservabilityClient
    from .organization.client import AsyncOrganizationClient, OrganizationClient
    from .organizations.client import AsyncOrganizationsClient, OrganizationsClient
    from .queries.client import AsyncQueriesClient, QueriesClient
    from .scopes.client import AsyncScopesClient, ScopesClient
    from .secrets.client import AsyncSecretsClient, SecretsClient
    from .testcases.client import AsyncTestcasesClient, TestcasesClient
    from .testsets.client import AsyncTestsetsClient, TestsetsClient
    from .variants.client import AsyncVariantsClient, VariantsClient
    from .workflows.client import AsyncWorkflowsClient, WorkflowsClient
    from .workspace.client import AsyncWorkspaceClient, WorkspaceClient
# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class AgentaApi:
    """
    Use this class to access the different functions within the SDK. You can instantiate any number of clients with different configuration that will propagate to these functions.

    Parameters
    ----------
    base_url : typing.Optional[str]
        The base url to use for requests from the client.

    environment : AgentaApiEnvironment
        The environment to use for requests from the client. from .environment import AgentaApiEnvironment



        Defaults to AgentaApiEnvironment.DEFAULT



    api_key : str
    headers : typing.Optional[typing.Dict[str, str]]
        Additional headers to send with every request.

    timeout : typing.Optional[float]
        The timeout to be used, in seconds, for requests. By default the timeout is 60 seconds, unless a custom httpx client is used, in which case this default is not enforced.

    follow_redirects : typing.Optional[bool]
        Whether the default httpx client follows redirects or not, this is irrelevant if a custom httpx client is passed in.

    httpx_client : typing.Optional[httpx.Client]
        The httpx client to use for making requests, a preconfigured client is used by default, however this is useful should you want to pass in any custom httpx configuration.

    Examples
    --------
    from agenta import AgentaApi

    client = AgentaApi(
        api_key="YOUR_API_KEY",
    )
    """

    def __init__(
        self,
        *,
        base_url: typing.Optional[str] = None,
        environment: AgentaApiEnvironment = AgentaApiEnvironment.DEFAULT,
        api_key: str,
        headers: typing.Optional[typing.Dict[str, str]] = None,
        timeout: typing.Optional[float] = None,
        follow_redirects: typing.Optional[bool] = True,
        httpx_client: typing.Optional[httpx.Client] = None,
    ):
        _defaulted_timeout = (
            timeout if timeout is not None else 60 if httpx_client is None else httpx_client.timeout.read
        )
        self._client_wrapper = SyncClientWrapper(
            base_url=_get_base_url(base_url=base_url, environment=environment),
            api_key=api_key,
            headers=headers,
            httpx_client=httpx_client
            if httpx_client is not None
            else httpx.Client(timeout=_defaulted_timeout, follow_redirects=follow_redirects)
            if follow_redirects is not None
            else httpx.Client(timeout=_defaulted_timeout),
            timeout=_defaulted_timeout,
        )
        self._raw_client = RawAgentaApi(client_wrapper=self._client_wrapper)
        self._billing: typing.Optional[BillingClient] = None
        self._admin: typing.Optional[AdminClient] = None
        self._organizations: typing.Optional[OrganizationsClient] = None
        self._organization: typing.Optional[OrganizationClient] = None
        self._secrets: typing.Optional[SecretsClient] = None
        self._observability: typing.Optional[ObservabilityClient] = None
        self._auth: typing.Optional[AuthClient] = None
        self._invocations: typing.Optional[InvocationsClient] = None
        self._annotations: typing.Optional[AnnotationsClient] = None
        self._testcases: typing.Optional[TestcasesClient] = None
        self._testsets: typing.Optional[TestsetsClient] = None
        self._queries: typing.Optional[QueriesClient] = None
        self._folders: typing.Optional[FoldersClient] = None
        self._applications: typing.Optional[ApplicationsClient] = None
        self._workflows: typing.Optional[WorkflowsClient] = None
        self._evaluators: typing.Optional[EvaluatorsClient] = None
        self._evaluations: typing.Optional[EvaluationsClient] = None
        self._human_evaluations: typing.Optional[HumanEvaluationsClient] = None
        self._access_control: typing.Optional[AccessControlClient] = None
        self._scopes: typing.Optional[ScopesClient] = None
        self._apps: typing.Optional[AppsClient] = None
        self._variants: typing.Optional[VariantsClient] = None
        self._containers: typing.Optional[ContainersClient] = None
        self._environments: typing.Optional[EnvironmentsClient] = None
        self._configs: typing.Optional[ConfigsClient] = None
        self._api_keys: typing.Optional[ApiKeysClient] = None
        self._workspace: typing.Optional[WorkspaceClient] = None

    @property
    def with_raw_response(self) -> RawAgentaApi:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawAgentaApi
        """
        return self._raw_client

    def update_organization(
        self,
        organization_id: str,
        *,
        slug: typing.Optional[str] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        flags: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        updated_at: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> Organization:
        """
        Parameters
        ----------
        organization_id : str

        slug : typing.Optional[str]

        name : typing.Optional[str]

        description : typing.Optional[str]

        flags : typing.Optional[typing.Dict[str, typing.Any]]

        updated_at : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        Organization
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.update_organization(
            organization_id="organization_id",
        )
        """
        _response = self._raw_client.update_organization(
            organization_id,
            slug=slug,
            name=name,
            description=description,
            flags=flags,
            updated_at=updated_at,
            request_options=request_options,
        )
        return _response.data

    def delete_organization(
        self, organization_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Delete an organization (owner only).

        Parameters
        ----------
        organization_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.delete_organization(
            organization_id="organization_id",
        )
        """
        _response = self._raw_client.delete_organization(organization_id, request_options=request_options)
        return _response.data

    def patch_organization(
        self,
        organization_id: str,
        *,
        slug: typing.Optional[str] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        flags: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        updated_at: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> Organization:
        """
        Parameters
        ----------
        organization_id : str

        slug : typing.Optional[str]

        name : typing.Optional[str]

        description : typing.Optional[str]

        flags : typing.Optional[typing.Dict[str, typing.Any]]

        updated_at : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        Organization
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.patch_organization(
            organization_id="organization_id",
        )
        """
        _response = self._raw_client.patch_organization(
            organization_id,
            slug=slug,
            name=name,
            description=description,
            flags=flags,
            updated_at=updated_at,
            request_options=request_options,
        )
        return _response.data

    def create_workspace(
        self,
        organization_id: str,
        *,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        type: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> WorkspaceResponse:
        """
        Parameters
        ----------
        organization_id : str

        name : typing.Optional[str]

        description : typing.Optional[str]

        type : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        WorkspaceResponse
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.create_workspace(
            organization_id="organization_id",
        )
        """
        _response = self._raw_client.create_workspace(
            organization_id, name=name, description=description, type=type, request_options=request_options
        )
        return _response.data

    def update_workspace(
        self,
        organization_id: str,
        workspace_id: str,
        *,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        updated_at: typing.Optional[dt.datetime] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> WorkspaceResponse:
        """
        Parameters
        ----------
        organization_id : str

        workspace_id : str

        name : typing.Optional[str]

        description : typing.Optional[str]

        updated_at : typing.Optional[dt.datetime]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        WorkspaceResponse
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.update_workspace(
            organization_id="organization_id",
            workspace_id="workspace_id",
        )
        """
        _response = self._raw_client.update_workspace(
            organization_id,
            workspace_id,
            name=name,
            description=description,
            updated_at=updated_at,
            request_options=request_options,
        )
        return _response.data

    def transfer_organization_ownership(
        self, organization_id: str, new_owner_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Transfer organization ownership to another member.

        Parameters
        ----------
        organization_id : str

        new_owner_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.transfer_organization_ownership(
            organization_id="organization_id",
            new_owner_id="new_owner_id",
        )
        """
        _response = self._raw_client.transfer_organization_ownership(
            organization_id, new_owner_id, request_options=request_options
        )
        return _response.data

    def create_organization(
        self,
        *,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Create a new organization.

        Parameters
        ----------
        name : typing.Optional[str]

        description : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.create_organization()
        """
        _response = self._raw_client.create_organization(
            name=name, description=description, request_options=request_options
        )
        return _response.data

    def list_organization_domains(
        self, organization_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        List all domains for an organization.

        Parameters
        ----------
        organization_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.list_organization_domains(
            organization_id="organization_id",
        )
        """
        _response = self._raw_client.list_organization_domains(organization_id, request_options=request_options)
        return _response.data

    def create_organization_domain(
        self, organization_id: str, *, domain: str, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Add a new domain to an organization.

        Parameters
        ----------
        organization_id : str

        domain : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.create_organization_domain(
            organization_id="organization_id",
            domain="domain",
        )
        """
        _response = self._raw_client.create_organization_domain(
            organization_id, domain=domain, request_options=request_options
        )
        return _response.data

    def get_organization_domain(
        self, organization_id: str, domain_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Get a single domain by ID.

        Parameters
        ----------
        organization_id : str

        domain_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.get_organization_domain(
            organization_id="organization_id",
            domain_id="domain_id",
        )
        """
        _response = self._raw_client.get_organization_domain(
            organization_id, domain_id, request_options=request_options
        )
        return _response.data

    def delete_organization_domain(
        self, organization_id: str, domain_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Delete a domain from an organization.

        Parameters
        ----------
        organization_id : str

        domain_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.delete_organization_domain(
            organization_id="organization_id",
            domain_id="domain_id",
        )
        """
        _response = self._raw_client.delete_organization_domain(
            organization_id, domain_id, request_options=request_options
        )
        return _response.data

    def verify_organization_domain(
        self, organization_id: str, domain_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Verify a domain (marks it as verified).

        Parameters
        ----------
        organization_id : str

        domain_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.verify_organization_domain(
            organization_id="organization_id",
            domain_id="domain_id",
        )
        """
        _response = self._raw_client.verify_organization_domain(
            organization_id, domain_id, request_options=request_options
        )
        return _response.data

    def list_organization_providers(
        self, organization_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        List all SSO providers for an organization.

        Parameters
        ----------
        organization_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.list_organization_providers(
            organization_id="organization_id",
        )
        """
        _response = self._raw_client.list_organization_providers(organization_id, request_options=request_options)
        return _response.data

    def create_organization_provider(
        self,
        organization_id: str,
        *,
        request: typing.Dict[str, typing.Any],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Add a new SSO provider to an organization.

        Parameters
        ----------
        organization_id : str

        request : typing.Dict[str, typing.Any]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.create_organization_provider(
            organization_id="organization_id",
            request={"key": "value"},
        )
        """
        _response = self._raw_client.create_organization_provider(
            organization_id, request=request, request_options=request_options
        )
        return _response.data

    def get_organization_provider(
        self, organization_id: str, provider_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Get a single SSO provider by ID.

        Parameters
        ----------
        organization_id : str

        provider_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.get_organization_provider(
            organization_id="organization_id",
            provider_id="provider_id",
        )
        """
        _response = self._raw_client.get_organization_provider(
            organization_id, provider_id, request_options=request_options
        )
        return _response.data

    def delete_organization_provider(
        self, organization_id: str, provider_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Delete an SSO provider from an organization.

        Parameters
        ----------
        organization_id : str

        provider_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.delete_organization_provider(
            organization_id="organization_id",
            provider_id="provider_id",
        )
        """
        _response = self._raw_client.delete_organization_provider(
            organization_id, provider_id, request_options=request_options
        )
        return _response.data

    def update_organization_provider(
        self,
        organization_id: str,
        provider_id: str,
        *,
        request: typing.Dict[str, typing.Any],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Update an SSO provider.

        Parameters
        ----------
        organization_id : str

        provider_id : str

        request : typing.Dict[str, typing.Any]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.update_organization_provider(
            organization_id="organization_id",
            provider_id="provider_id",
            request={"key": "value"},
        )
        """
        _response = self._raw_client.update_organization_provider(
            organization_id, provider_id, request=request, request_options=request_options
        )
        return _response.data

    def get_all_workspace_permissions(
        self, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.List[Permission]:
        """
        Get all workspace permissions.

        Returns a list of all available workspace permissions.

        Returns:
            List[Permission]: A list of Permission objects representing the available workspace permissions.

        Raises:
            HTTPException: If there is an error retrieving the workspace permissions.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.List[Permission]
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.get_all_workspace_permissions()
        """
        _response = self._raw_client.get_all_workspace_permissions(request_options=request_options)
        return _response.data

    def assign_role_to_user(
        self,
        workspace_id: str,
        *,
        email: str,
        organization_id: str,
        role: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Assigns a role to a user in a workspace.

        Args:
            payload (UserRole): The payload containing the organization id, user email, and role to assign.
            workspace_id (str): The ID of the workspace.
            request (Request): The FastAPI request object.

        Returns:
            bool: True if the role was successfully assigned, False otherwise.

        Raises:
            HTTPException: If the user does not have permission to perform this action.
            HTTPException: If there is an error assigning the role to the user.

        Parameters
        ----------
        workspace_id : str

        email : str

        organization_id : str

        role : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.assign_role_to_user(
            workspace_id="workspace_id",
            email="email",
            organization_id="organization_id",
        )
        """
        _response = self._raw_client.assign_role_to_user(
            workspace_id, email=email, organization_id=organization_id, role=role, request_options=request_options
        )
        return _response.data

    def unassign_role_from_user(
        self,
        workspace_id: str,
        *,
        email: str,
        organization_id: str,
        role: str,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Delete a role assignment from a user in a workspace.

        Args:
            workspace_id (str): The ID of the workspace.
            email (str): The email of the user to remove the role from.
            organization_id (str): The ID of the organization.
            role (str): The role to remove from the user.
            request (Request): The FastAPI request object.

        Returns:
            bool: True if the role assignment was successfully deleted.

        Raises:
            HTTPException: If there is an error in the request or the user does not have permission to perform the action.
            HTTPException: If there is an error in updating the user's roles.

        Parameters
        ----------
        workspace_id : str

        email : str

        organization_id : str

        role : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.unassign_role_from_user(
            workspace_id="workspace_id",
            email="email",
            organization_id="organization_id",
            role="role",
        )
        """
        _response = self._raw_client.unassign_role_from_user(
            workspace_id, email=email, organization_id=organization_id, role=role, request_options=request_options
        )
        return _response.data

    def health_check(self, *, request_options: typing.Optional[RequestOptions] = None) -> typing.Any:
        """
        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.health_check()
        """
        _response = self._raw_client.health_check(request_options=request_options)
        return _response.data

    def fetch_user_profile(self, *, request_options: typing.Optional[RequestOptions] = None) -> typing.Any:
        """
        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.fetch_user_profile()
        """
        _response = self._raw_client.fetch_user_profile(request_options=request_options)
        return _response.data

    def update_user_username(
        self,
        *,
        username: typing.Optional[str] = OMIT,
        email: typing.Optional[str] = OMIT,
        updated_at: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Parameters
        ----------
        username : typing.Optional[str]

        email : typing.Optional[str]

        updated_at : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.update_user_username()
        """
        _response = self._raw_client.update_user_username(
            username=username, email=email, updated_at=updated_at, request_options=request_options
        )
        return _response.data

    def reset_user_password(
        self, *, user_id: str, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Parameters
        ----------
        user_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        from agenta import AgentaApi

        client = AgentaApi(
            api_key="YOUR_API_KEY",
        )
        client.reset_user_password(
            user_id="user_id",
        )
        """
        _response = self._raw_client.reset_user_password(user_id=user_id, request_options=request_options)
        return _response.data

    @property
    def billing(self):
        if self._billing is None:
            from .billing.client import BillingClient  # noqa: E402

            self._billing = BillingClient(client_wrapper=self._client_wrapper)
        return self._billing

    @property
    def admin(self):
        if self._admin is None:
            from .admin.client import AdminClient  # noqa: E402

            self._admin = AdminClient(client_wrapper=self._client_wrapper)
        return self._admin

    @property
    def organizations(self):
        if self._organizations is None:
            from .organizations.client import OrganizationsClient  # noqa: E402

            self._organizations = OrganizationsClient(client_wrapper=self._client_wrapper)
        return self._organizations

    @property
    def organization(self):
        if self._organization is None:
            from .organization.client import OrganizationClient  # noqa: E402

            self._organization = OrganizationClient(client_wrapper=self._client_wrapper)
        return self._organization

    @property
    def secrets(self):
        if self._secrets is None:
            from .secrets.client import SecretsClient  # noqa: E402

            self._secrets = SecretsClient(client_wrapper=self._client_wrapper)
        return self._secrets

    @property
    def observability(self):
        if self._observability is None:
            from .observability.client import ObservabilityClient  # noqa: E402

            self._observability = ObservabilityClient(client_wrapper=self._client_wrapper)
        return self._observability

    @property
    def auth(self):
        if self._auth is None:
            from .auth.client import AuthClient  # noqa: E402

            self._auth = AuthClient(client_wrapper=self._client_wrapper)
        return self._auth

    @property
    def invocations(self):
        if self._invocations is None:
            from .invocations.client import InvocationsClient  # noqa: E402

            self._invocations = InvocationsClient(client_wrapper=self._client_wrapper)
        return self._invocations

    @property
    def annotations(self):
        if self._annotations is None:
            from .annotations.client import AnnotationsClient  # noqa: E402

            self._annotations = AnnotationsClient(client_wrapper=self._client_wrapper)
        return self._annotations

    @property
    def testcases(self):
        if self._testcases is None:
            from .testcases.client import TestcasesClient  # noqa: E402

            self._testcases = TestcasesClient(client_wrapper=self._client_wrapper)
        return self._testcases

    @property
    def testsets(self):
        if self._testsets is None:
            from .testsets.client import TestsetsClient  # noqa: E402

            self._testsets = TestsetsClient(client_wrapper=self._client_wrapper)
        return self._testsets

    @property
    def queries(self):
        if self._queries is None:
            from .queries.client import QueriesClient  # noqa: E402

            self._queries = QueriesClient(client_wrapper=self._client_wrapper)
        return self._queries

    @property
    def folders(self):
        if self._folders is None:
            from .folders.client import FoldersClient  # noqa: E402

            self._folders = FoldersClient(client_wrapper=self._client_wrapper)
        return self._folders

    @property
    def applications(self):
        if self._applications is None:
            from .applications.client import ApplicationsClient  # noqa: E402

            self._applications = ApplicationsClient(client_wrapper=self._client_wrapper)
        return self._applications

    @property
    def workflows(self):
        if self._workflows is None:
            from .workflows.client import WorkflowsClient  # noqa: E402

            self._workflows = WorkflowsClient(client_wrapper=self._client_wrapper)
        return self._workflows

    @property
    def evaluators(self):
        if self._evaluators is None:
            from .evaluators.client import EvaluatorsClient  # noqa: E402

            self._evaluators = EvaluatorsClient(client_wrapper=self._client_wrapper)
        return self._evaluators

    @property
    def evaluations(self):
        if self._evaluations is None:
            from .evaluations.client import EvaluationsClient  # noqa: E402

            self._evaluations = EvaluationsClient(client_wrapper=self._client_wrapper)
        return self._evaluations

    @property
    def human_evaluations(self):
        if self._human_evaluations is None:
            from .human_evaluations.client import HumanEvaluationsClient  # noqa: E402

            self._human_evaluations = HumanEvaluationsClient(client_wrapper=self._client_wrapper)
        return self._human_evaluations

    @property
    def access_control(self):
        if self._access_control is None:
            from .access_control.client import AccessControlClient  # noqa: E402

            self._access_control = AccessControlClient(client_wrapper=self._client_wrapper)
        return self._access_control

    @property
    def scopes(self):
        if self._scopes is None:
            from .scopes.client import ScopesClient  # noqa: E402

            self._scopes = ScopesClient(client_wrapper=self._client_wrapper)
        return self._scopes

    @property
    def apps(self):
        if self._apps is None:
            from .apps.client import AppsClient  # noqa: E402

            self._apps = AppsClient(client_wrapper=self._client_wrapper)
        return self._apps

    @property
    def variants(self):
        if self._variants is None:
            from .variants.client import VariantsClient  # noqa: E402

            self._variants = VariantsClient(client_wrapper=self._client_wrapper)
        return self._variants

    @property
    def containers(self):
        if self._containers is None:
            from .containers.client import ContainersClient  # noqa: E402

            self._containers = ContainersClient(client_wrapper=self._client_wrapper)
        return self._containers

    @property
    def environments(self):
        if self._environments is None:
            from .environments.client import EnvironmentsClient  # noqa: E402

            self._environments = EnvironmentsClient(client_wrapper=self._client_wrapper)
        return self._environments

    @property
    def configs(self):
        if self._configs is None:
            from .configs.client import ConfigsClient  # noqa: E402

            self._configs = ConfigsClient(client_wrapper=self._client_wrapper)
        return self._configs

    @property
    def api_keys(self):
        if self._api_keys is None:
            from .api_keys.client import ApiKeysClient  # noqa: E402

            self._api_keys = ApiKeysClient(client_wrapper=self._client_wrapper)
        return self._api_keys

    @property
    def workspace(self):
        if self._workspace is None:
            from .workspace.client import WorkspaceClient  # noqa: E402

            self._workspace = WorkspaceClient(client_wrapper=self._client_wrapper)
        return self._workspace


class AsyncAgentaApi:
    """
    Use this class to access the different functions within the SDK. You can instantiate any number of clients with different configuration that will propagate to these functions.

    Parameters
    ----------
    base_url : typing.Optional[str]
        The base url to use for requests from the client.

    environment : AgentaApiEnvironment
        The environment to use for requests from the client. from .environment import AgentaApiEnvironment



        Defaults to AgentaApiEnvironment.DEFAULT



    api_key : str
    headers : typing.Optional[typing.Dict[str, str]]
        Additional headers to send with every request.

    timeout : typing.Optional[float]
        The timeout to be used, in seconds, for requests. By default the timeout is 60 seconds, unless a custom httpx client is used, in which case this default is not enforced.

    follow_redirects : typing.Optional[bool]
        Whether the default httpx client follows redirects or not, this is irrelevant if a custom httpx client is passed in.

    httpx_client : typing.Optional[httpx.AsyncClient]
        The httpx client to use for making requests, a preconfigured client is used by default, however this is useful should you want to pass in any custom httpx configuration.

    Examples
    --------
    from agenta import AsyncAgentaApi

    client = AsyncAgentaApi(
        api_key="YOUR_API_KEY",
    )
    """

    def __init__(
        self,
        *,
        base_url: typing.Optional[str] = None,
        environment: AgentaApiEnvironment = AgentaApiEnvironment.DEFAULT,
        api_key: str,
        headers: typing.Optional[typing.Dict[str, str]] = None,
        timeout: typing.Optional[float] = None,
        follow_redirects: typing.Optional[bool] = True,
        httpx_client: typing.Optional[httpx.AsyncClient] = None,
    ):
        _defaulted_timeout = (
            timeout if timeout is not None else 60 if httpx_client is None else httpx_client.timeout.read
        )
        self._client_wrapper = AsyncClientWrapper(
            base_url=_get_base_url(base_url=base_url, environment=environment),
            api_key=api_key,
            headers=headers,
            httpx_client=httpx_client
            if httpx_client is not None
            else httpx.AsyncClient(timeout=_defaulted_timeout, follow_redirects=follow_redirects)
            if follow_redirects is not None
            else httpx.AsyncClient(timeout=_defaulted_timeout),
            timeout=_defaulted_timeout,
        )
        self._raw_client = AsyncRawAgentaApi(client_wrapper=self._client_wrapper)
        self._billing: typing.Optional[AsyncBillingClient] = None
        self._admin: typing.Optional[AsyncAdminClient] = None
        self._organizations: typing.Optional[AsyncOrganizationsClient] = None
        self._organization: typing.Optional[AsyncOrganizationClient] = None
        self._secrets: typing.Optional[AsyncSecretsClient] = None
        self._observability: typing.Optional[AsyncObservabilityClient] = None
        self._auth: typing.Optional[AsyncAuthClient] = None
        self._invocations: typing.Optional[AsyncInvocationsClient] = None
        self._annotations: typing.Optional[AsyncAnnotationsClient] = None
        self._testcases: typing.Optional[AsyncTestcasesClient] = None
        self._testsets: typing.Optional[AsyncTestsetsClient] = None
        self._queries: typing.Optional[AsyncQueriesClient] = None
        self._folders: typing.Optional[AsyncFoldersClient] = None
        self._applications: typing.Optional[AsyncApplicationsClient] = None
        self._workflows: typing.Optional[AsyncWorkflowsClient] = None
        self._evaluators: typing.Optional[AsyncEvaluatorsClient] = None
        self._evaluations: typing.Optional[AsyncEvaluationsClient] = None
        self._human_evaluations: typing.Optional[AsyncHumanEvaluationsClient] = None
        self._access_control: typing.Optional[AsyncAccessControlClient] = None
        self._scopes: typing.Optional[AsyncScopesClient] = None
        self._apps: typing.Optional[AsyncAppsClient] = None
        self._variants: typing.Optional[AsyncVariantsClient] = None
        self._containers: typing.Optional[AsyncContainersClient] = None
        self._environments: typing.Optional[AsyncEnvironmentsClient] = None
        self._configs: typing.Optional[AsyncConfigsClient] = None
        self._api_keys: typing.Optional[AsyncApiKeysClient] = None
        self._workspace: typing.Optional[AsyncWorkspaceClient] = None

    @property
    def with_raw_response(self) -> AsyncRawAgentaApi:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawAgentaApi
        """
        return self._raw_client

    async def update_organization(
        self,
        organization_id: str,
        *,
        slug: typing.Optional[str] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        flags: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        updated_at: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> Organization:
        """
        Parameters
        ----------
        organization_id : str

        slug : typing.Optional[str]

        name : typing.Optional[str]

        description : typing.Optional[str]

        flags : typing.Optional[typing.Dict[str, typing.Any]]

        updated_at : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        Organization
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.update_organization(
                organization_id="organization_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update_organization(
            organization_id,
            slug=slug,
            name=name,
            description=description,
            flags=flags,
            updated_at=updated_at,
            request_options=request_options,
        )
        return _response.data

    async def delete_organization(
        self, organization_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Delete an organization (owner only).

        Parameters
        ----------
        organization_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.delete_organization(
                organization_id="organization_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_organization(organization_id, request_options=request_options)
        return _response.data

    async def patch_organization(
        self,
        organization_id: str,
        *,
        slug: typing.Optional[str] = OMIT,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        flags: typing.Optional[typing.Dict[str, typing.Any]] = OMIT,
        updated_at: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> Organization:
        """
        Parameters
        ----------
        organization_id : str

        slug : typing.Optional[str]

        name : typing.Optional[str]

        description : typing.Optional[str]

        flags : typing.Optional[typing.Dict[str, typing.Any]]

        updated_at : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        Organization
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.patch_organization(
                organization_id="organization_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.patch_organization(
            organization_id,
            slug=slug,
            name=name,
            description=description,
            flags=flags,
            updated_at=updated_at,
            request_options=request_options,
        )
        return _response.data

    async def create_workspace(
        self,
        organization_id: str,
        *,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        type: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> WorkspaceResponse:
        """
        Parameters
        ----------
        organization_id : str

        name : typing.Optional[str]

        description : typing.Optional[str]

        type : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        WorkspaceResponse
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.create_workspace(
                organization_id="organization_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create_workspace(
            organization_id, name=name, description=description, type=type, request_options=request_options
        )
        return _response.data

    async def update_workspace(
        self,
        organization_id: str,
        workspace_id: str,
        *,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        updated_at: typing.Optional[dt.datetime] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> WorkspaceResponse:
        """
        Parameters
        ----------
        organization_id : str

        workspace_id : str

        name : typing.Optional[str]

        description : typing.Optional[str]

        updated_at : typing.Optional[dt.datetime]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        WorkspaceResponse
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.update_workspace(
                organization_id="organization_id",
                workspace_id="workspace_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update_workspace(
            organization_id,
            workspace_id,
            name=name,
            description=description,
            updated_at=updated_at,
            request_options=request_options,
        )
        return _response.data

    async def transfer_organization_ownership(
        self, organization_id: str, new_owner_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Transfer organization ownership to another member.

        Parameters
        ----------
        organization_id : str

        new_owner_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.transfer_organization_ownership(
                organization_id="organization_id",
                new_owner_id="new_owner_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.transfer_organization_ownership(
            organization_id, new_owner_id, request_options=request_options
        )
        return _response.data

    async def create_organization(
        self,
        *,
        name: typing.Optional[str] = OMIT,
        description: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Create a new organization.

        Parameters
        ----------
        name : typing.Optional[str]

        description : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.create_organization()


        asyncio.run(main())
        """
        _response = await self._raw_client.create_organization(
            name=name, description=description, request_options=request_options
        )
        return _response.data

    async def list_organization_domains(
        self, organization_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        List all domains for an organization.

        Parameters
        ----------
        organization_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.list_organization_domains(
                organization_id="organization_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_organization_domains(organization_id, request_options=request_options)
        return _response.data

    async def create_organization_domain(
        self, organization_id: str, *, domain: str, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Add a new domain to an organization.

        Parameters
        ----------
        organization_id : str

        domain : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.create_organization_domain(
                organization_id="organization_id",
                domain="domain",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create_organization_domain(
            organization_id, domain=domain, request_options=request_options
        )
        return _response.data

    async def get_organization_domain(
        self, organization_id: str, domain_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Get a single domain by ID.

        Parameters
        ----------
        organization_id : str

        domain_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.get_organization_domain(
                organization_id="organization_id",
                domain_id="domain_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.get_organization_domain(
            organization_id, domain_id, request_options=request_options
        )
        return _response.data

    async def delete_organization_domain(
        self, organization_id: str, domain_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Delete a domain from an organization.

        Parameters
        ----------
        organization_id : str

        domain_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.delete_organization_domain(
                organization_id="organization_id",
                domain_id="domain_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_organization_domain(
            organization_id, domain_id, request_options=request_options
        )
        return _response.data

    async def verify_organization_domain(
        self, organization_id: str, domain_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Verify a domain (marks it as verified).

        Parameters
        ----------
        organization_id : str

        domain_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.verify_organization_domain(
                organization_id="organization_id",
                domain_id="domain_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.verify_organization_domain(
            organization_id, domain_id, request_options=request_options
        )
        return _response.data

    async def list_organization_providers(
        self, organization_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        List all SSO providers for an organization.

        Parameters
        ----------
        organization_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.list_organization_providers(
                organization_id="organization_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list_organization_providers(organization_id, request_options=request_options)
        return _response.data

    async def create_organization_provider(
        self,
        organization_id: str,
        *,
        request: typing.Dict[str, typing.Any],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Add a new SSO provider to an organization.

        Parameters
        ----------
        organization_id : str

        request : typing.Dict[str, typing.Any]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.create_organization_provider(
                organization_id="organization_id",
                request={"key": "value"},
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create_organization_provider(
            organization_id, request=request, request_options=request_options
        )
        return _response.data

    async def get_organization_provider(
        self, organization_id: str, provider_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Get a single SSO provider by ID.

        Parameters
        ----------
        organization_id : str

        provider_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.get_organization_provider(
                organization_id="organization_id",
                provider_id="provider_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.get_organization_provider(
            organization_id, provider_id, request_options=request_options
        )
        return _response.data

    async def delete_organization_provider(
        self, organization_id: str, provider_id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Delete an SSO provider from an organization.

        Parameters
        ----------
        organization_id : str

        provider_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.delete_organization_provider(
                organization_id="organization_id",
                provider_id="provider_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete_organization_provider(
            organization_id, provider_id, request_options=request_options
        )
        return _response.data

    async def update_organization_provider(
        self,
        organization_id: str,
        provider_id: str,
        *,
        request: typing.Dict[str, typing.Any],
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Update an SSO provider.

        Parameters
        ----------
        organization_id : str

        provider_id : str

        request : typing.Dict[str, typing.Any]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.update_organization_provider(
                organization_id="organization_id",
                provider_id="provider_id",
                request={"key": "value"},
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update_organization_provider(
            organization_id, provider_id, request=request, request_options=request_options
        )
        return _response.data

    async def get_all_workspace_permissions(
        self, *, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.List[Permission]:
        """
        Get all workspace permissions.

        Returns a list of all available workspace permissions.

        Returns:
            List[Permission]: A list of Permission objects representing the available workspace permissions.

        Raises:
            HTTPException: If there is an error retrieving the workspace permissions.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.List[Permission]
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.get_all_workspace_permissions()


        asyncio.run(main())
        """
        _response = await self._raw_client.get_all_workspace_permissions(request_options=request_options)
        return _response.data

    async def assign_role_to_user(
        self,
        workspace_id: str,
        *,
        email: str,
        organization_id: str,
        role: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Assigns a role to a user in a workspace.

        Args:
            payload (UserRole): The payload containing the organization id, user email, and role to assign.
            workspace_id (str): The ID of the workspace.
            request (Request): The FastAPI request object.

        Returns:
            bool: True if the role was successfully assigned, False otherwise.

        Raises:
            HTTPException: If the user does not have permission to perform this action.
            HTTPException: If there is an error assigning the role to the user.

        Parameters
        ----------
        workspace_id : str

        email : str

        organization_id : str

        role : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.assign_role_to_user(
                workspace_id="workspace_id",
                email="email",
                organization_id="organization_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.assign_role_to_user(
            workspace_id, email=email, organization_id=organization_id, role=role, request_options=request_options
        )
        return _response.data

    async def unassign_role_from_user(
        self,
        workspace_id: str,
        *,
        email: str,
        organization_id: str,
        role: str,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Delete a role assignment from a user in a workspace.

        Args:
            workspace_id (str): The ID of the workspace.
            email (str): The email of the user to remove the role from.
            organization_id (str): The ID of the organization.
            role (str): The role to remove from the user.
            request (Request): The FastAPI request object.

        Returns:
            bool: True if the role assignment was successfully deleted.

        Raises:
            HTTPException: If there is an error in the request or the user does not have permission to perform the action.
            HTTPException: If there is an error in updating the user's roles.

        Parameters
        ----------
        workspace_id : str

        email : str

        organization_id : str

        role : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.unassign_role_from_user(
                workspace_id="workspace_id",
                email="email",
                organization_id="organization_id",
                role="role",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.unassign_role_from_user(
            workspace_id, email=email, organization_id=organization_id, role=role, request_options=request_options
        )
        return _response.data

    async def health_check(self, *, request_options: typing.Optional[RequestOptions] = None) -> typing.Any:
        """
        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.health_check()


        asyncio.run(main())
        """
        _response = await self._raw_client.health_check(request_options=request_options)
        return _response.data

    async def fetch_user_profile(self, *, request_options: typing.Optional[RequestOptions] = None) -> typing.Any:
        """
        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.fetch_user_profile()


        asyncio.run(main())
        """
        _response = await self._raw_client.fetch_user_profile(request_options=request_options)
        return _response.data

    async def update_user_username(
        self,
        *,
        username: typing.Optional[str] = OMIT,
        email: typing.Optional[str] = OMIT,
        updated_at: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> typing.Any:
        """
        Parameters
        ----------
        username : typing.Optional[str]

        email : typing.Optional[str]

        updated_at : typing.Optional[str]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.update_user_username()


        asyncio.run(main())
        """
        _response = await self._raw_client.update_user_username(
            username=username, email=email, updated_at=updated_at, request_options=request_options
        )
        return _response.data

    async def reset_user_password(
        self, *, user_id: str, request_options: typing.Optional[RequestOptions] = None
    ) -> typing.Any:
        """
        Parameters
        ----------
        user_id : str

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        typing.Any
            Successful Response

        Examples
        --------
        import asyncio

        from agenta import AsyncAgentaApi

        client = AsyncAgentaApi(
            api_key="YOUR_API_KEY",
        )


        async def main() -> None:
            await client.reset_user_password(
                user_id="user_id",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.reset_user_password(user_id=user_id, request_options=request_options)
        return _response.data

    @property
    def billing(self):
        if self._billing is None:
            from .billing.client import AsyncBillingClient  # noqa: E402

            self._billing = AsyncBillingClient(client_wrapper=self._client_wrapper)
        return self._billing

    @property
    def admin(self):
        if self._admin is None:
            from .admin.client import AsyncAdminClient  # noqa: E402

            self._admin = AsyncAdminClient(client_wrapper=self._client_wrapper)
        return self._admin

    @property
    def organizations(self):
        if self._organizations is None:
            from .organizations.client import AsyncOrganizationsClient  # noqa: E402

            self._organizations = AsyncOrganizationsClient(client_wrapper=self._client_wrapper)
        return self._organizations

    @property
    def organization(self):
        if self._organization is None:
            from .organization.client import AsyncOrganizationClient  # noqa: E402

            self._organization = AsyncOrganizationClient(client_wrapper=self._client_wrapper)
        return self._organization

    @property
    def secrets(self):
        if self._secrets is None:
            from .secrets.client import AsyncSecretsClient  # noqa: E402

            self._secrets = AsyncSecretsClient(client_wrapper=self._client_wrapper)
        return self._secrets

    @property
    def observability(self):
        if self._observability is None:
            from .observability.client import AsyncObservabilityClient  # noqa: E402

            self._observability = AsyncObservabilityClient(client_wrapper=self._client_wrapper)
        return self._observability

    @property
    def auth(self):
        if self._auth is None:
            from .auth.client import AsyncAuthClient  # noqa: E402

            self._auth = AsyncAuthClient(client_wrapper=self._client_wrapper)
        return self._auth

    @property
    def invocations(self):
        if self._invocations is None:
            from .invocations.client import AsyncInvocationsClient  # noqa: E402

            self._invocations = AsyncInvocationsClient(client_wrapper=self._client_wrapper)
        return self._invocations

    @property
    def annotations(self):
        if self._annotations is None:
            from .annotations.client import AsyncAnnotationsClient  # noqa: E402

            self._annotations = AsyncAnnotationsClient(client_wrapper=self._client_wrapper)
        return self._annotations

    @property
    def testcases(self):
        if self._testcases is None:
            from .testcases.client import AsyncTestcasesClient  # noqa: E402

            self._testcases = AsyncTestcasesClient(client_wrapper=self._client_wrapper)
        return self._testcases

    @property
    def testsets(self):
        if self._testsets is None:
            from .testsets.client import AsyncTestsetsClient  # noqa: E402

            self._testsets = AsyncTestsetsClient(client_wrapper=self._client_wrapper)
        return self._testsets

    @property
    def queries(self):
        if self._queries is None:
            from .queries.client import AsyncQueriesClient  # noqa: E402

            self._queries = AsyncQueriesClient(client_wrapper=self._client_wrapper)
        return self._queries

    @property
    def folders(self):
        if self._folders is None:
            from .folders.client import AsyncFoldersClient  # noqa: E402

            self._folders = AsyncFoldersClient(client_wrapper=self._client_wrapper)
        return self._folders

    @property
    def applications(self):
        if self._applications is None:
            from .applications.client import AsyncApplicationsClient  # noqa: E402

            self._applications = AsyncApplicationsClient(client_wrapper=self._client_wrapper)
        return self._applications

    @property
    def workflows(self):
        if self._workflows is None:
            from .workflows.client import AsyncWorkflowsClient  # noqa: E402

            self._workflows = AsyncWorkflowsClient(client_wrapper=self._client_wrapper)
        return self._workflows

    @property
    def evaluators(self):
        if self._evaluators is None:
            from .evaluators.client import AsyncEvaluatorsClient  # noqa: E402

            self._evaluators = AsyncEvaluatorsClient(client_wrapper=self._client_wrapper)
        return self._evaluators

    @property
    def evaluations(self):
        if self._evaluations is None:
            from .evaluations.client import AsyncEvaluationsClient  # noqa: E402

            self._evaluations = AsyncEvaluationsClient(client_wrapper=self._client_wrapper)
        return self._evaluations

    @property
    def human_evaluations(self):
        if self._human_evaluations is None:
            from .human_evaluations.client import AsyncHumanEvaluationsClient  # noqa: E402

            self._human_evaluations = AsyncHumanEvaluationsClient(client_wrapper=self._client_wrapper)
        return self._human_evaluations

    @property
    def access_control(self):
        if self._access_control is None:
            from .access_control.client import AsyncAccessControlClient  # noqa: E402

            self._access_control = AsyncAccessControlClient(client_wrapper=self._client_wrapper)
        return self._access_control

    @property
    def scopes(self):
        if self._scopes is None:
            from .scopes.client import AsyncScopesClient  # noqa: E402

            self._scopes = AsyncScopesClient(client_wrapper=self._client_wrapper)
        return self._scopes

    @property
    def apps(self):
        if self._apps is None:
            from .apps.client import AsyncAppsClient  # noqa: E402

            self._apps = AsyncAppsClient(client_wrapper=self._client_wrapper)
        return self._apps

    @property
    def variants(self):
        if self._variants is None:
            from .variants.client import AsyncVariantsClient  # noqa: E402

            self._variants = AsyncVariantsClient(client_wrapper=self._client_wrapper)
        return self._variants

    @property
    def containers(self):
        if self._containers is None:
            from .containers.client import AsyncContainersClient  # noqa: E402

            self._containers = AsyncContainersClient(client_wrapper=self._client_wrapper)
        return self._containers

    @property
    def environments(self):
        if self._environments is None:
            from .environments.client import AsyncEnvironmentsClient  # noqa: E402

            self._environments = AsyncEnvironmentsClient(client_wrapper=self._client_wrapper)
        return self._environments

    @property
    def configs(self):
        if self._configs is None:
            from .configs.client import AsyncConfigsClient  # noqa: E402

            self._configs = AsyncConfigsClient(client_wrapper=self._client_wrapper)
        return self._configs

    @property
    def api_keys(self):
        if self._api_keys is None:
            from .api_keys.client import AsyncApiKeysClient  # noqa: E402

            self._api_keys = AsyncApiKeysClient(client_wrapper=self._client_wrapper)
        return self._api_keys

    @property
    def workspace(self):
        if self._workspace is None:
            from .workspace.client import AsyncWorkspaceClient  # noqa: E402

            self._workspace = AsyncWorkspaceClient(client_wrapper=self._client_wrapper)
        return self._workspace


def _get_base_url(*, base_url: typing.Optional[str] = None, environment: AgentaApiEnvironment) -> str:
    if base_url is not None:
        return base_url
    elif environment is not None:
        return environment.value
    else:
        raise Exception("Please pass in either base_url or environment to construct the client")
