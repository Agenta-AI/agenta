---
id: commit-environment-revision
title: "Commit Environment Revision"
description: "Commit Environment Revision"
sidebar_label: "Commit Environment Revision"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: reference/api/agenta-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Commit Environment Revision"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/preview/environments/revisions/commit"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Commit Environment Revision

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"properties":{"environment_revision_commit":{"properties":{"environment_revision_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Environment Revision Id"},"revision_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Revision Id"},"environment_variant_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Environment Variant Id"},"variant_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Variant Id"},"environment_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Environment Id"},"artifact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Artifact Id"},"flags":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"boolean"},{"type":"string"},{"additionalProperties":"circular(LabelJson-Input)","type":"object"}],"title":"LabelJson-Input"},"type":"object"},{"type":"null"}],"title":"Flags"},"tags":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"boolean"},{"type":"string"},{"additionalProperties":"circular(LabelJson-Input)","type":"object"}],"title":"LabelJson-Input"},"type":"object"},{"type":"null"}],"title":"Tags"},"meta":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"number"},{"type":"boolean"},{"additionalProperties":"circular(FullJson-Input)","type":"object"},{"items":"circular(FullJson-Input)","type":"array"},{"type":"null"}],"title":"FullJson-Input"},"type":"object"},{"type":"null"}],"title":"Meta"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"data":{"anyOf":[{"properties":{"references":{"anyOf":[{"additionalProperties":{"additionalProperties":{"properties":{"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Id"}},"type":"object","title":"Reference"},"type":"object"},"type":"object"},{"type":"null"}],"title":"References"}},"type":"object","title":"EnvironmentRevisionData","description":"Per-app references for environment revision data.\n\nKeys are app-scoped identifiers (e.g., ``\"pre.revision\"``).\nValues are dicts of entity-type → Reference, providing full traceability::\n\n    {\n        \"pre.revision\": {\n            \"application\": Reference(id=..., slug=..., version=...),\n            \"application_variant\": Reference(id=..., slug=..., version=...),\n            \"application_revision\": Reference(id=..., slug=..., version=...),\n        },\n        ...\n    }"},{"type":"null"}]},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"delta":{"anyOf":[{"properties":{"set":{"anyOf":[{"additionalProperties":{"additionalProperties":{"properties":{"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Id"}},"type":"object","title":"Reference"},"type":"object"},"type":"object"},{"type":"null"}],"title":"Set"},"remove":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Remove"}},"type":"object","title":"EnvironmentRevisionDelta","description":"Delta operations on environment revision references.\n\n- ``set``: references to add or update (key → dict of entity → Reference).\n- ``remove``: reference keys to remove."},{"type":"null"}]}},"type":"object","title":"EnvironmentRevisionCommit"}},"type":"object","required":["environment_revision_commit"],"title":"EnvironmentRevisionCommitRequest"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"properties":{"count":{"type":"integer","title":"Count","default":0},"environment_revision":{"anyOf":[{"properties":{"environment_variant_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Environment Variant Id"},"variant_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Variant Id"},"environment_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Environment Id"},"artifact_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Artifact Id"},"author":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Author"},"date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Date"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"flags":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"boolean"},{"type":"string"},{"additionalProperties":"circular(LabelJson-Output)","type":"object"}],"title":"LabelJson-Output"},"type":"object"},{"type":"null"}],"title":"Flags"},"tags":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"boolean"},{"type":"string"},{"additionalProperties":"circular(LabelJson-Output)","type":"object"}],"title":"LabelJson-Output"},"type":"object"},{"type":"null"}],"title":"Tags"},"meta":{"anyOf":[{"additionalProperties":{"anyOf":[{"type":"string"},{"type":"integer"},{"type":"number"},{"type":"boolean"},{"additionalProperties":"circular(FullJson-Output)","type":"object"},{"items":"circular(FullJson-Output)","type":"array"},{"type":"null"}],"title":"FullJson-Output"},"type":"object"},{"type":"null"}],"title":"Meta"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"deleted_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Deleted At"},"created_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Created By Id"},"updated_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Updated By Id"},"deleted_by_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Deleted By Id"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Id"},"data":{"anyOf":[{"properties":{"references":{"anyOf":[{"additionalProperties":{"additionalProperties":{"properties":{"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"slug":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Slug"},"id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Id"}},"type":"object","title":"Reference"},"type":"object"},"type":"object"},{"type":"null"}],"title":"References"}},"type":"object","title":"EnvironmentRevisionData","description":"Per-app references for environment revision data.\n\nKeys are app-scoped identifiers (e.g., ``\"pre.revision\"``).\nValues are dicts of entity-type → Reference, providing full traceability::\n\n    {\n        \"pre.revision\": {\n            \"application\": Reference(id=..., slug=..., version=...),\n            \"application_variant\": Reference(id=..., slug=..., version=...),\n            \"application_revision\": Reference(id=..., slug=..., version=...),\n        },\n        ...\n    }"},{"type":"null"}]}},"type":"object","title":"EnvironmentRevision"},{"type":"null"}]}},"type":"object","title":"EnvironmentRevisionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"properties":{"detail":{"items":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"},"input":{"title":"Input"},"ctx":{"type":"object","title":"Context"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"}}}}}}
>
  
</StatusCodes>


      