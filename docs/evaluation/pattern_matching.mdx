---
title: "Pattern Matching Evaluation"
---

Pattern Matching Evaluation is a method used to assess the performance of LLMs by identifying specific patterns within the output generated by the model.
In Agenta, to perform pattern matching evaluation you can make use of the following evaluators:

- Regex Test
- Starts with
- Ends with
- Contains
- Contains Any
- Contains All

Let's dig deeper into these evaluators and see how you can use them within Agenta.

## Regular Expression

Regular Expressions (Regex) are sequences of characters that define search patterns, often used for pattern matching
within strings. The **Regex Test** evaluator checks if the generated answer matches a regular expression pattern.

You need to provide the regex expression and specify whether an answer is correct if it matches or does not match the regex.

Click on the **Automatic Evaluation** and click on **New Evaluator**. You will select the Regex Test evaluator from the list of evaluators.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Pattern-matching-evaluator-select.png"
/>

Configure the Regex Test evaluator by providing a `name`, the `pattern` for regex testing (ex: ^this_word\d{3}$), and toggle if the regex should match or mismatch.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Pattern-matching-evaluator-configuration.png"
/>

Click **Save**.

Go to the **Result** section and create a **New Evaluation**. Fill in the required data, such as the test set you want to use, the variants you would like to evaluate, and
which evaluators would you like to evaluate (in this case Regex Test). Click on the **Create** button.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Pattern-matching-evaluator-new-evaluation.png"
/>

The evaluation begins to run and once it is compeleted you will be able to see your evalution results.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Pattern-matching-evaluator-result.png"
/>

## String Operations

String operations evaluate the modelâ€™s output by performing basic manipulations and comparisons.
They can check for the presence or absence of particular substrings, compare entire strings for exact matches,
or analyze patterns in the text. There are two string operations evaluators in Agenta: `Starts With` and `Ends With`.

### Starts With

**Starts With evaluator** checks if the output starts with a specified prefix, considering case sensitivity based on the settings.

The first step is to select the **Evaluator** from the list of evaluators by clicking on the **New Evaluator** button.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Starts-with-evaluator.png"
/>

Add the `name`, the `prefix` (which means the string to match at the start of the output), and toggle `case sensitivity` on or off. Click **Save**.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Starts-with-evaluator-configuration.png"
/>

Create a **New Evaluation** in the **Result** section, add the test set you want to use, the variants you would like to evaluate, and
which evaluators would you like to evaluate (in this case Starts With). Click on the **Create** button.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Starts-with-evaluator-new-evaluation.png"
/>

You will be able to see the evaluation results once it is completed.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Starts-with-evaluator-result.png"
/>

### Ends With

**Ends With** evaluator checks if the output ends with a specified suffix, considering case sensitivity based on the settings.

To make use of the Ends With evaluator, must select it from the evalutor dropdown

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Ends-with-evaluator.png"
/>

Configure the evaluator by adding the a unique `name`, a `suffix` which is the string to match at the end of the output (for this example, we will use 'Funafuti.'),
and finally toggle `case sensitivity`. Click **Save**.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Ends-with-evaluator-configuration.png"
/>

<Note>
  {" "}
  The suffix input is 'Funafuti.', if you don't add the full stop (.) at the back,
  the evaluator will count it as a mismatch.{" "}
</Note>

Go over to the **Results** section, where you choose your variants and evaluator to start the evaluation process.
Once the evaluation is complete, you will be able to see the evaluation result.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Ends-with-evaluator-result.png"
/>

## Content Checks:

Content checks evaluate the output of a model by comparing it against predefined reference texts, or
specific criteria related to the content. There are three content check evaluators in Agenta namely: `Contains`, `Contains Any`, and `Contains All`.

### Contains

**Contains evaluator** checks if the output contains a specified substring, considering case sensitivity based on the settings.

The steps involved in setting up and implementing the Contains evaluator is very simple. Select the evaluator from a list of evaluators.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-evaluator.png"
/>

Customize Contains evaluator by adding `name`, `substring` which is the string to check if it is contained in the output (for example: 'capital of'), and `case sensitive` (if the evaluation should be case sensitive).

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-evaluator-configuration.png"
/>

Choose your variants and evaluator to run the **New Evaluation**. Click **Create**

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-evaluator-new-evaluation.png"
/>

Once the evaluation is complete you can proceed to view your evaluation results.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-evaluator-result.png"
/>

### Contains Any

**Contains Any evaluator** checks if the output contains any of the specified substrings from a comma-separated list, considering case sensitivity based on the settings.

Select the evaluator from the evaluators dropdown.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-Any-evaluator.png"
/>

Configure the **Contains Any evaluator** by adding a unique `name`, `substrings` which is a comma-separated list of strings to check if any is contained in the output (for example: Negative, high, high-priority),
and toggle the `case sensitive` if the evaluation should be case sensitive.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-Any-evaluator-configuration.png"
/>

Create a New Evaluation by adding test set you want to use the variants you would like to evaluate, and the evaluator you would like to evaluate (in this case Contains Any).

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-Any-evaluator-new-evaluation.png"
/>

The evaluation result will be completed within seconds, and you will be able to view the result and othe metircs in the result table.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-Any-evaluator-result.png"
/>

### Contains All

**Contains All evaluator** checks if the output contains all of the specified substrings from a comma-separated list, considering case sensitivity based on the settings.

Select the Contains All evaluator from the evaluators dropdown.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-All-evaluator.png"
/>

Configure the **Contains All** evaluator.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-All-evaluator-configuration.png"
/>

Choose your variant and the evaluator to start the evaluation process.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-All-evaluator-new-evaluation.png"
/>

Finally, you can view your evaluation result.

<img
  className="dark:hidden"
  height="600"
  src="/images/Evaluators/Agenta-Contains-All-evaluator-result.png"
/>
