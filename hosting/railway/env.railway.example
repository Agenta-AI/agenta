# Railway Environment Variables Example
# Copy this file and fill in your actual values
# Many of these can use Railway's reference variable syntax

# ============================================================================
# AGENTA CORE SETTINGS
# ============================================================================

AGENTA_LICENSE=oss

# These will be set after you deploy nginx and get your Railway domain
# Use Railway's reference variables: ${{nginx.RAILWAY_PUBLIC_DOMAIN}}
AGENTA_API_URL=https://your-app.up.railway.app/api
AGENTA_WEB_URL=https://your-app.up.railway.app
AGENTA_SERVICES_URL=https://your-app.up.railway.app/services

# IMPORTANT: Generate secure random keys
# In Railway UI, use: ${{secret(32)}} to auto-generate
AGENTA_AUTH_KEY=replace-with-secure-random-key
AGENTA_CRYPT_KEY=replace-with-secure-random-key

# ============================================================================
# DATABASE SETTINGS (Using Railway Private Networking)
# ============================================================================

# If using Railway managed PostgreSQL:
# These variables will be automatically available from the postgres service
# Reference them like: ${{postgres.POSTGRES_PASSWORD}}

# If using custom Postgres container:
POSTGRES_PASSWORD=replace-with-secure-password
POSTGRES_USERNAME=agenta_user

# Database connection URIs (using Railway private networking)
# Note: postgres.railway.internal resolves via Railway's private network
POSTGRES_URI_SUPERTOKENS=postgresql://agenta_user:password@postgres.railway.internal:5432/agenta_oss_supertokens
POSTGRES_URI_CORE=postgresql+asyncpg://agenta_user:password@postgres.railway.internal:5432/agenta_oss_core
POSTGRES_URI_TRACING=postgresql+asyncpg://agenta_user:password@postgres.railway.internal:5432/agenta_oss_tracing

# Alembic configuration paths
ALEMBIC_CFG_PATH_CORE=/app/oss/databases/postgres/migrations/core/alembic.ini
ALEMBIC_CFG_PATH_TRACING=/app/oss/databases/postgres/migrations/tracing/alembic.ini

# ============================================================================
# REDIS & CACHING (Using Railway Private Networking)
# ============================================================================

# Main Redis instance (for Celery)
REDIS_URL=redis://redis.railway.internal:6379/0

# Cache Redis instance (separate Redis on port 6378)
REDIS_CACHE_HOST=cache.railway.internal
REDIS_CACHE_PORT=6378

# ============================================================================
# MESSAGE QUEUE (Using Railway Private Networking)
# ============================================================================

# RabbitMQ credentials
RABBITMQ_DEFAULT_USER=guest
RABBITMQ_DEFAULT_PASS=replace-with-secure-password

# Celery configuration (using RabbitMQ)
CELERY_BROKER_URL=amqp://guest:replace-with-secure-password@rabbitmq.railway.internal:5672//
CELERY_RESULT_BACKEND=redis://redis.railway.internal:6379/0

# ============================================================================
# AUTHENTICATION (SuperTokens using Railway Private Networking)
# ============================================================================

SUPERTOKENS_CONNECTION_URI=http://supertokens.railway.internal:3567
SUPERTOKENS_API_KEY=replace-with-secure-key-or-leave-empty

# ============================================================================
# OPTIONAL FEATURES
# ============================================================================

# Auto-run migrations on startup
AGENTA_AUTO_MIGRATIONS=true

# Telemetry
AGENTA_TELEMETRY_ENABLED=true

# Service middleware caching
AGENTA_SERVICE_MIDDLEWARE_CACHE_ENABLED=true

# Email settings
AGENTA_SEND_EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# PostHog analytics (optional)
POSTHOG_API_KEY=phc_hmVSxIjTW1REBHXgj2aw4HW9X6CXb6FzerBgP9XenC7

# OpenTelemetry settings
AGENTA_OTLP_MAX_BATCH_BYTES=10485760

# Pricing and demos (optional)
AGENTA_PRICING=
AGENTA_DEMOS=

# Docker network mode (not needed on Railway)
# DOCKER_NETWORK_MODE=bridge

# ============================================================================
# OAUTH PROVIDERS (Optional)
# ============================================================================

GOOGLE_OAUTH_CLIENT_ID=
GOOGLE_OAUTH_CLIENT_SECRET=

GITHUB_OAUTH_CLIENT_ID=
GITHUB_OAUTH_CLIENT_SECRET=

# ============================================================================
# THIRD-PARTY SERVICES (Optional)
# ============================================================================

# Email provider (SendGrid)
SENDGRID_API_KEY=

# Customer messaging (Crisp)
CRISP_WEBSITE_ID=

# Email marketing (Loops)
LOOPS_API_KEY=

# Payments (Stripe)
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=

# Monitoring (New Relic)
NEW_RELIC_LICENSE_KEY=
NRIA_LICENSE_KEY=

# ============================================================================
# LLM API KEYS (Optional)
# ============================================================================

OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GEMINI_API_KEY=
COHERE_API_KEY=
MISTRAL_API_KEY=
GROQ_API_KEY=
ALEPHALPHA_API_KEY=
ANYSCALE_API_KEY=
DEEPINFRA_API_KEY=
OPENROUTER_API_KEY=
PERPLEXITYAI_API_KEY=
TOGETHERAI_API_KEY=

# ============================================================================
# PORT CONFIGURATION
# ============================================================================

# Railway automatically provides PORT environment variable
# These are defaults if PORT is not set (but Railway will override)
# You generally don't need to set these on Railway

# POSTGRES_PORT=5432
# RABBITMQ_PORT=5672
# RABBITMQ_UI_PORT=15672
# SUPERTOKENS_PORT=3567

# ============================================================================
# DEPRECATED / LEGACY (Not needed on Railway)
# ============================================================================

# These are from the old Docker Compose setup
# Railway doesn't use Traefik, so these are not needed

# TRAEFIK_DOMAIN=localhost
# TRAEFIK_PORT=80
# TRAEFIK_PROTOCOL=http
# TRAEFIK_UI_PORT=8080
# TRAEFIK_HTTPS_PORT=443
# NGINX_PORT=80
# AGENTA_PORT=80
# BARE_DOMAIN_NAME=localhost
# DOMAIN_NAME=http://localhost
# WEBSITE_DOMAIN_NAME=http://localhost
