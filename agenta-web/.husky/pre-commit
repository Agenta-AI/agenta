# Navigate to the frontend directory
cd agenta-web || exit

# Run ESLint check
if ! npm run lint; then
    echo 'âŒ ESLint issues detected. Please fix them before committing.'
    exit 1
else
    echo 'âœ… ESLint check passed.'
fi

# Run TypeScript type check
if ! npm run types:check; then
    echo 'âŒ TypeScript type errors detected. Please fix them before committing.'
    exit 1
else
    echo 'âœ… TypeScript type check passed.'
fi

# Run Prettier check
if ! npm run format; then
    echo 'âš ï¸ Formatting issues detected. Running Prettier to fix them...'
    npm run format-fix

    # Stage the fixed files
    git add .

    echo 'âœ… Formatting issues fixed and changes staged. Proceeding with further checks...'
else
    echo 'âœ… Prettier check passed. Proceeding with further checks...'
fi

echo 'ğŸ‰ All checks passed. Ready to commit!'